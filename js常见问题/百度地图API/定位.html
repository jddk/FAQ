<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>百度地图坐标系转换-demo</title>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=e4TOrsUdUfMPG7Or4Dde9UVS4pyj29jB"></script>
    <style>
    #allmap {
        width: 500px;
        height: 500px;
        background: pink;
    }
    p{
        font-size:80px;
    }
    </style>
</head>

<body>
    <p></p>
    <script type="text/javascript">
    $(function() {
    	//经度longitude
    	//纬度latitude

    	//gps坐标   115.778676,33.844582
    	//百度坐标  115.79065985735,33.849383077871
 
     //获取当前位置
            var point = new BMap.Point(116.331398,38.897445);
            var geoc = new BMap.Geocoder(); 
            var geolocation = new BMap.Geolocation();
            geolocation.getCurrentPosition(function(r){
            if(this.getStatus() == BMAP_STATUS_SUCCESS){
                var mk = new BMap.Marker(r.point);
                var pt = r.point;
                geoc.getLocation(pt, function(rs){
                var addComp = rs.addressComponents;
                $('p').html(addComp.city+addComp.district+addComp.street+addComp.streetNumber);
            });   
            }
            else {
                alert('failed'+this.getStatus());
            }        
        },{enableHighAccuracy: true})


    })
    </script>
</body>

</html>
